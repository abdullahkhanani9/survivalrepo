---
layout: post
title: Predictor
permalink: /ml
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Titanic Predictor</title>
    <link rel="stylesheet" href="ml-styles.css">
</head>
<body>
    <div class="main">
        <div class="signup">
            <form id="titanic-form">
                <label for="Name">Name:</label>
                <input id="Name" type="text" placeholder="Name" required><br>
                <label for="class">Passenger class:</label>
                <select id="class" required>
                    <option value="1">1st</option>
                    <option value="2">2nd</option>
                    <option value="3">3rd</option>
                </select><br>
                <label for="sex">Sex:</label>
                <select id="sex" required>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select><br>
                <label for="age">Age:</label>
                <input id="age" type="number" placeholder="Age"><br>
                <label for="sibsp"># of siblings/spouses aboard:</label>
                <input id="sibsp" type="number" placeholder="# of siblings/spouses aboard"><br>
                <label for="parch"># of parents/children aboard:</label>
                <input id="parch" type="number" placeholder="# of parents/children aboard"><br>
                <label for="price">Ticket Price:</label>
                <input id="price" type="number" placeholder="Ticket Price"><br>
                <label for="embark">Embark:</label>
                <select id="embark">
                    <option value="C">Cherbourg</option>
                    <option value="Q">Queenstown</option>
                    <option value="S">Southampton</option>
                </select><br>
                <label for="alone">Are you traveling alone?</label>
                <select id="alone">
                    <option value="True">Yes</option>
                    <option value="False">No</option>
                </select><br>
                <button type="button" onclick="predictSurvival()">Predict</button>
            </form>
        </div>
    </div>
    <div id="result"></div>
    <script>
        function predictSurvival() {
            var form = document.getElementById('titanic-form');
            var formData = new FormData(form);
            fetch('/api/titanic/predict', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerHTML = "Survival Probability: " + (data.survival_percentage * 100).toFixed(2) + "%";
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>
</body>
</html>